{% extends 'base.html' %}
{% block content %}
<script src="https://cdn.zingchart.com/zingchart.min.js"></script>

  <h1 class="mb-5 text-center">{{ question.question_text }}</h1>

  <ul class="list-group mb-5">
    {% for choice in question.choice_set.all %}
    <li class="list-group-item position-relative">
      {{ choice.choice_text }} <span class="badge text-bg-success position-absolute top-50 end-0 translate-middle">{{ choice.votes }} vote{{ choice.votes | pluralize }}</span>
    </li>
    {% endfor %}
  </ul>

  <div id="myChart"></div>

  <a href="{% url 'polls:index' %}" class="btn btn-secondary">Back to polls</a>
  <a href="{% url 'polls:detail' question.id %}" class="btn btn-dark">Vote again?</a>

  <script>
    var chartData = {
      "type": "bar",
      "scale-x": {
        "values": [
          "D",
          "E",
          "T"
        ]
      },
      "series": [
        {
          "values": [
            25,
            23,
            27
          ]
        }
      ]
    }

    zingchart.render({
      id: "myChart",
      data: chartData,
    });
  </script>
{% endblock %}